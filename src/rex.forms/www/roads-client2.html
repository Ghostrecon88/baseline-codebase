<html>
    <head>
        <script type="text/javascript" src="{{ PREFIX['rex.ext'] }}/jquery/jquery-1.7.2.min.js"></script>
        <script type="text/javascript" src="{{ PREFIX['rex.forms'] }}/js/roads-client2.js"></script>
        <script type="text/javascript" src="{{ PREFIX['rex.forms'] }}/rexl/rexl.js"></script>
        <script type="text/javascript">
        var instrumentJSON = {
            "pages": [
                {
                    "type": "page",
                    "cId": "page_29kRRTaBu0",
                    "skipIf": "",
                    "questions": [
                        {
                            "questionType": "enum",
                            "name": "difficulty_eye_contact",
                            "title": "Difficulty making eye contact?",
                            "isMandatory": false,
                            "disableIf": "",
                            "answers": [
                                {
                                    "code": "never",
                                    "title": "Never"
                                },
                                {
                                    "code": "sometimes",
                                    "title": "Sometimes"
                                },
                                {
                                    "code": "often",
                                    "title": "Often"
                                }
                            ],
                            "constraints": ""
                        },
                        {
                            "questionType": "set",
                            "name": "test_set_question",
                            "title": "Test set function",
                            "isMandatory": false,
                            "disableIf": "",
                            "answers": [
                                {
                                    "code": "apple",
                                    "title": "Apple"
                                },
                                {
                                    "code": "pear",
                                    "title": "Pear"
                                },
                                {
                                    "code": "banana",
                                    "title": "Banana"
                                }
                            ],
                            "constraints": ""
                        },
                        {
                            "questionType": "rep_group",
                            "name": "q00_just_show_repeating_groups_add_all_your_s",
                            "title": "0. Just to show repeating groups, add all of your siblings.",
                            "repeatingGroup": [
                                {
                                    "questionType": "string",
                                    "name": "name",
                                    "title": "Name",
                                    "isMandatory": false,
                                    "disableIf": "",
                                    "answers": [],
                                    "changes": {
                                        "questionType": 2,
                                        "name": 0,
                                        "title": 1
                                    },
                                    "constraints": ""
                                },
                                {
                                    "questionType": "float",
                                    "name": "age",
                                    "title": "Age",
                                    "isMandatory": false,
                                    "disableIf": "",
                                    "answers": [],
                                    "changes": {
                                        "questionType": 5,
                                        "name": 3,
                                        "title": 4
                                    },
                                    "constraints": ""
                                },
                                {
                                    "questionType": "string",
                                    "name": "favorite",
                                    "title": "Favorite Book",
                                    "isMandatory": false,
                                    "disableIf": "",
                                    "answers": [],
                                    "changes": {
                                        "questionType": 8,
                                        "name": 6,
                                        "title": 7
                                    },
                                    "constraints": ""
                                }
                            ],
                            "disableIf": "",
                            "isMandatory": false,
                            "answers": [],
                            "constraints": ""
                        },
                        {
                            "questionType": "integer",
                            "name": "age",
                            "title": "Your age",
                            "disableIf": "test_set_question.apple=true()",
                            "isMandatory": false,
                            "constraints": ""
                        },
                        {
                            "questionType": "string",
                            "name": "name",
                            "title": "Your name",
                            "isMandatory": false,
                            "disableIf": "age >= 18",
                            "constraints": ""
                        }
                    ]
                },
                {
                    "type": "page",
                    "cId": "page_SXA8aklJdD",
                    "skipIf": "age<18 | name='Andrew'",
                    "questions": [
                        {
                            "questionType": "string",
                            "name": "how_are_things",
                            "title": "How are you doing?",
                            "isMandatory": false,
                            "constraints": ""
                        }
                    ]
                },
            ],
            "params": []
        };

        var rexFormsClient;
        $(document).ready(function () {
            rexFormsClient = new $.RexFormsClient({
                instrumentName: 'test',
                instrumentData: instrumentJSON,
                saveURL: '/save_instrument',
                surveyArea: '#survey',
                questionArea: '#questions',
                btnPrev: '#btnPrev',
                btnNext: '#btnNext',
            });
        });

        </script>
    </head>
    <body>
        <div id="survey">
            <div id="questions">
            </div>
            <button id="btnPrev">Previous Page</button>
            <button id="btnNext">Next Page</button>
        </div>
    </body>
</html>
