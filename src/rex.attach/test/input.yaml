#
# Copyright (c) 2014, Prometheus Research, LLC
#

title: REX.ATTACH
tests:

- coverage: setup.cfg

- sh: pip install -q -e ./demo/rex.attach_demo
- mkdir: ./sandbox

- py: |
    # Deploying rex.attach_demo
    from rex.core import LatentRex
    from rex.deploy import deploy, get_cluster

    with LatentRex('rex.attach_demo', attach_dir='./sandbox/attachments'):
        cluster = get_cluster()
        cluster.overwrite()
        deploy()

- doctest: README.rst
- doctest: test/test_*.rst

- sh: pip uninstall -q -y rex.attach_demo
- rmdir: ./sandbox

- coverage-check: 95.0
- coverage-report: ./build/coverage

