#
# Copyright (c) 2013, Prometheus Research, LLC
#

title: REX.DEPLOY
tests:

- coverage: setup.cfg

- sh: pip install -q -e ./demo/rex.deploy_demo

- py: |
    # Deploying rex.deploy_demo
    from rex.core import LatentRex
    from rex.deploy import deploy, get_cluster

    with LatentRex('rex.deploy_demo'):
        cluster = get_cluster()
        cluster.overwrite()
        deploy()

- doctest: README.rst
- doctest: test/test_*.rst

- sh: pip uninstall -q -y rex.deploy_demo

- coverage-check: 90.0
- coverage-report: ./build/coverage

