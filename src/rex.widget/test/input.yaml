#
# Copyright (c) 2014, Prometheus Research, LLC
#

title: REX.WIDGET
tests:

- coverage: setup.cfg

- sh: pip install -q -e ./demo
- sh: rex dropdb --config=./demo/rex.yaml
  ignore: true
- sh: rex deploy --config=./demo/rex.yaml

- doctest: README.rst
- doctest: test/test_authorized.rst

# TODO: fix tests, commenting out for now, since they're broken
# - doctest: test/test_*.rst

- sh: rex dropdb --config=./demo/rex.yaml
  ignore: true
- sh: pip uninstall -q -y rex.widget_demo

- coverage-check: 95.0
- coverage-report: ./build/coverage

