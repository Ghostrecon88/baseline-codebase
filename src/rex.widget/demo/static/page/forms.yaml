paths:

  /forms:
    widget: !<DemoPage>
      id: forms
      title: Forms Example
      params:
        selected_study: study_list/selected
      children: 
      - !<HBox>
        children_margin: 5 # put some space between the Labels.
        children:
        - !<Text> 'The configuration for this page is in'
        - !<Box>   # put the Link in a Box so there is space between it and the Label.
          children:
          - !<Link>
            text: demo/static/page/forms.yaml
            href: /page/forms.txt
      - !<Box> 
        center_horizontally: True
        children:
        - !<Header>
          text: Forms Example
          level: 3
        - !<Box>
          direction: horizontal
          children:
          - !<Box>
            margin: 10
            size: 1
            children:
            - !<Header> Studies
  
            - !<Table>
              id: study_list
              selectable: true
              data: rex.widget_demo:/data/study/list
              columns:
                - key: code
                  title: Code
                - key: title
                  title: Title
                - key: closed
                  title: Closed

          - !<Box>
            margin: 10
            size: 1
            children:
            - !<Header> Edit study
  
            - !<Form>
              label: Study
              hint: Edit study and hit save button
              fieldset:
              - !<ReadOnlyField>
                value_key: code
                label: Code
                required: true
              - !<Field>
                value_key: title
                label: Title
                required: true
                hint: Study title as you want it to appear
              - !<AutocompleteField>
                value_key: super_protocol
                label: Super protocol
                required: true
                hint: Super protocol of the study
                data:
                  data: rex.widget_demo:/data/study/list
                  #filter: study.title
              - !<CheckboxField>
                value_key: closed
                label: Closed
                hint: If study is finished or not
                default_value: false
              - !<RepeatingFieldset>
                label: Protocols
                value_key: protocol
                fieldset:
                - !<Field>
                  value_key: code
                  label: Code
                  required: true
                - !<Field>
                  value_key: title
                  label: Title
                  required: true
                  hint: Protocol title
              value_data:
                data: rex.widget_demo:/data/study
                entity_id: study_list/selected
