paths:

  /forms:
    widget: !<DemoPage>
      id: forms
      title: Forms Example
      params:
        selected_study: study_list/selected
      children: !<Element>
        direction: horizontal
        children:
        - !<Element>
          margin: 10
          size: 1
          children:
          - !<Header> Studies

          - !<Table>
            id: study_list
            selectable: true
            data:
              entity: studies
              data: rex.widget_demo:/data/study/list
            columns:
              - key: code
                title: Code
              - key: title
                title: Title
              - key: closed
                title: Closed

        - !<Element>
          margin: 10
          size: 1
          children:
          - !<Header> Edit study

          - !<Form>
            id: study_form
            label: Study
            hint: Edit study and hit save button
            fieldset:
            - !<ReadOnlyField>
              value_key: code
              label: Code
              required: true
            - !<Field>
              value_key: title
              label: Title
              required: true
              hint: Study title as you want it to appear
            - !<AutocompleteField>
              value_key: super_protocol
              label: Super protocol
              required: true
              hint: Super protocol of the study
              data:
                data: rex.widget_demo:/data/study/list
                filter: study.title
            - !<CheckboxField>
              value_key: closed
              label: Closed
              hint: If study is finished or not
              default_value: false
            - !<RepeatingFieldset>
              label: Protocols
              value_key: protocol
              fieldset:
              - !<Field>
                value_key: code
                label: Code
                required: true
              - !<Field>
                value_key: title
                label: Title
                required: true
                hint: Protocol title
            value_data:
              data: rex.widget_demo:/data/study
              entity_id: study_list/selected
