type: wizard
title: School Viewer
path:
  - pick-school:
    - view-school:
    - pick-department:
      - view-department:
  - view-chart:
actions:

  pick-school:
    type: pick
    title: Pick School
    entity: school

  view-school:
    type: view
    title: Edit School
    entity: school

  view-chart:
    type: plotly
    title: View Chart
    plot:
      type: bar
      name: Count of Courses per School
    query: |
      /school{name :as x, count(department.course) :as y}
    layout:
      xaxis:
        title: School
      yaxis:
        title: Count of Courses

  pick-department:
      type: pick
      title: Pick Department
      entity: department
      input:
      - school: school
      mask: school_code=$school
      fields:
      - name

  view-department:
      type: view
      title: View Department
      entity: department
