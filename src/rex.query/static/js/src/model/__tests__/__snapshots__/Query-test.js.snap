exports[`inferExpressionType(context, expression) "text!" 1`] = `
Object {
  "context": Object {
    "domain": <DOMAIN>,
    "hasInvalidType": false,
    "prev": "<PREV CONTEXT>",
    "scope": "<SCOPE [empty]>",
    "title": null,
    "type": Object {
      "card": null,
      "domain": <DOMAIN>,
      "name": "text",
    },
  },
  "name": "value",
  "value": "text!",
}
`;

exports[`inferExpressionType(context, expression) 42 1`] = `
Object {
  "context": Object {
    "domain": <DOMAIN>,
    "hasInvalidType": false,
    "prev": "<PREV CONTEXT>",
    "scope": "<SCOPE [empty]>",
    "title": null,
    "type": Object {
      "card": null,
      "domain": <DOMAIN>,
      "name": "number",
    },
  },
  "name": "value",
  "value": 42,
}
`;

exports[`inferExpressionType(context, expression) customer < 42 1`] = `
Object {
  "context": Object {
    "domain": <DOMAIN>,
    "hasInvalidType": false,
    "prev": "<PREV CONTEXT>",
    "scope": "<SCOPE [empty]>",
    "title": null,
    "type": Object {
      "card": null,
      "domain": <DOMAIN>,
      "name": "boolean",
    },
  },
  "left": Object {
    "context": Object {
      "domain": <DOMAIN>,
      "hasInvalidType": false,
      "prev": "<PREV CONTEXT>",
      "scope": "<SCOPE [empty]>",
      "title": "Customer",
      "type": Object {
        "attribute": null,
        "card": "seq",
        "domain": <DOMAIN>,
        "entity": "customer",
        "name": "record",
      },
    },
    "name": "navigate",
    "path": "customer",
    "regular": false,
  },
  "name": "binary",
  "op": "less",
  "right": Object {
    "context": Object {
      "domain": <DOMAIN>,
      "hasInvalidType": false,
      "prev": "<PREV CONTEXT>",
      "scope": "<SCOPE [empty]>",
      "title": null,
      "type": Object {
        "card": null,
        "domain": <DOMAIN>,
        "name": "number",
      },
    },
    "name": "value",
    "value": 42,
  },
}
`;

exports[`inferExpressionType(context, expression) customer <= 42 1`] = `
Object {
  "context": Object {
    "domain": <DOMAIN>,
    "hasInvalidType": false,
    "prev": "<PREV CONTEXT>",
    "scope": "<SCOPE [empty]>",
    "title": null,
    "type": Object {
      "card": null,
      "domain": <DOMAIN>,
      "name": "boolean",
    },
  },
  "left": Object {
    "context": Object {
      "domain": <DOMAIN>,
      "hasInvalidType": false,
      "prev": "<PREV CONTEXT>",
      "scope": "<SCOPE [empty]>",
      "title": "Customer",
      "type": Object {
        "attribute": null,
        "card": "seq",
        "domain": <DOMAIN>,
        "entity": "customer",
        "name": "record",
      },
    },
    "name": "navigate",
    "path": "customer",
    "regular": false,
  },
  "name": "binary",
  "op": "lessEqual",
  "right": Object {
    "context": Object {
      "domain": <DOMAIN>,
      "hasInvalidType": false,
      "prev": "<PREV CONTEXT>",
      "scope": "<SCOPE [empty]>",
      "title": null,
      "type": Object {
        "card": null,
        "domain": <DOMAIN>,
        "name": "number",
      },
    },
    "name": "value",
    "value": 42,
  },
}
`;

exports[`inferExpressionType(context, expression) customer > 42 1`] = `
Object {
  "context": Object {
    "domain": <DOMAIN>,
    "hasInvalidType": false,
    "prev": "<PREV CONTEXT>",
    "scope": "<SCOPE [empty]>",
    "title": null,
    "type": Object {
      "card": null,
      "domain": <DOMAIN>,
      "name": "boolean",
    },
  },
  "left": Object {
    "context": Object {
      "domain": <DOMAIN>,
      "hasInvalidType": false,
      "prev": "<PREV CONTEXT>",
      "scope": "<SCOPE [empty]>",
      "title": "Customer",
      "type": Object {
        "attribute": null,
        "card": "seq",
        "domain": <DOMAIN>,
        "entity": "customer",
        "name": "record",
      },
    },
    "name": "navigate",
    "path": "customer",
    "regular": false,
  },
  "name": "binary",
  "op": "greater",
  "right": Object {
    "context": Object {
      "domain": <DOMAIN>,
      "hasInvalidType": false,
      "prev": "<PREV CONTEXT>",
      "scope": "<SCOPE [empty]>",
      "title": null,
      "type": Object {
        "card": null,
        "domain": <DOMAIN>,
        "name": "number",
      },
    },
    "name": "value",
    "value": 42,
  },
}
`;

exports[`inferExpressionType(context, expression) customer >= 42 1`] = `
Object {
  "context": Object {
    "domain": <DOMAIN>,
    "hasInvalidType": false,
    "prev": "<PREV CONTEXT>",
    "scope": "<SCOPE [empty]>",
    "title": null,
    "type": Object {
      "card": null,
      "domain": <DOMAIN>,
      "name": "boolean",
    },
  },
  "left": Object {
    "context": Object {
      "domain": <DOMAIN>,
      "hasInvalidType": false,
      "prev": "<PREV CONTEXT>",
      "scope": "<SCOPE [empty]>",
      "title": "Customer",
      "type": Object {
        "attribute": null,
        "card": "seq",
        "domain": <DOMAIN>,
        "entity": "customer",
        "name": "record",
      },
    },
    "name": "navigate",
    "path": "customer",
    "regular": false,
  },
  "name": "binary",
  "op": "greaterEqual",
  "right": Object {
    "context": Object {
      "domain": <DOMAIN>,
      "hasInvalidType": false,
      "prev": "<PREV CONTEXT>",
      "scope": "<SCOPE [empty]>",
      "title": null,
      "type": Object {
        "card": null,
        "domain": <DOMAIN>,
        "name": "number",
      },
    },
    "name": "value",
    "value": 42,
  },
}
`;

exports[`inferExpressionType(context, expression) customer 1`] = `
Object {
  "context": Object {
    "domain": <DOMAIN>,
    "hasInvalidType": false,
    "prev": "<PREV CONTEXT>",
    "scope": "<SCOPE [empty]>",
    "title": "Customer",
    "type": Object {
      "attribute": null,
      "card": "seq",
      "domain": <DOMAIN>,
      "entity": "customer",
      "name": "record",
    },
  },
  "name": "navigate",
  "path": "customer",
  "regular": false,
}
`;

exports[`inferExpressionType(context, expression) customer and 42 1`] = `
Object {
  "context": Object {
    "domain": <DOMAIN>,
    "hasInvalidType": false,
    "prev": "<PREV CONTEXT>",
    "scope": "<SCOPE [empty]>",
    "title": null,
    "type": Object {
      "card": null,
      "domain": <DOMAIN>,
      "name": "boolean",
    },
  },
  "expressions": Array [
    Object {
      "context": Object {
        "domain": <DOMAIN>,
        "hasInvalidType": false,
        "prev": "<PREV CONTEXT>",
        "scope": "<SCOPE [empty]>",
        "title": "Customer",
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "customer",
          "name": "record",
        },
      },
      "name": "navigate",
      "path": "customer",
      "regular": false,
    },
    Object {
      "context": Object {
        "domain": <DOMAIN>,
        "hasInvalidType": false,
        "prev": "<PREV CONTEXT>",
        "scope": "<SCOPE [empty]>",
        "title": null,
        "type": Object {
          "card": null,
          "domain": <DOMAIN>,
          "name": "number",
        },
      },
      "name": "value",
      "value": 42,
    },
  ],
  "name": "logicalBinary",
  "op": "and",
}
`;

exports[`inferExpressionType(context, expression) customer or 42 1`] = `
Object {
  "context": Object {
    "domain": <DOMAIN>,
    "hasInvalidType": false,
    "prev": "<PREV CONTEXT>",
    "scope": "<SCOPE [empty]>",
    "title": null,
    "type": Object {
      "card": null,
      "domain": <DOMAIN>,
      "name": "boolean",
    },
  },
  "expressions": Array [
    Object {
      "context": Object {
        "domain": <DOMAIN>,
        "hasInvalidType": false,
        "prev": "<PREV CONTEXT>",
        "scope": "<SCOPE [empty]>",
        "title": "Customer",
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "customer",
          "name": "record",
        },
      },
      "name": "navigate",
      "path": "customer",
      "regular": false,
    },
    Object {
      "context": Object {
        "domain": <DOMAIN>,
        "hasInvalidType": false,
        "prev": "<PREV CONTEXT>",
        "scope": "<SCOPE [empty]>",
        "title": null,
        "type": Object {
          "card": null,
          "domain": <DOMAIN>,
          "name": "number",
        },
      },
      "name": "value",
      "value": 42,
    },
  ],
  "name": "logicalBinary",
  "op": "or",
}
`;

exports[`inferExpressionType(context, expression) exists customer 1`] = `
Object {
  "context": Object {
    "domain": <DOMAIN>,
    "hasInvalidType": false,
    "prev": "<PREV CONTEXT>",
    "scope": "<SCOPE [empty]>",
    "title": null,
    "type": Object {
      "card": null,
      "domain": <DOMAIN>,
      "name": "boolean",
    },
  },
  "expression": Object {
    "context": Object {
      "domain": <DOMAIN>,
      "hasInvalidType": false,
      "prev": "<PREV CONTEXT>",
      "scope": "<SCOPE [empty]>",
      "title": "Customer",
      "type": Object {
        "attribute": null,
        "card": "seq",
        "domain": <DOMAIN>,
        "entity": "customer",
        "name": "record",
      },
    },
    "name": "navigate",
    "path": "customer",
    "regular": false,
  },
  "name": "unary",
  "op": "exists",
}
`;

exports[`inferExpressionType(context, expression) not customer 1`] = `
Object {
  "context": Object {
    "domain": <DOMAIN>,
    "hasInvalidType": false,
    "prev": "<PREV CONTEXT>",
    "scope": "<SCOPE [empty]>",
    "title": null,
    "type": Object {
      "card": null,
      "domain": <DOMAIN>,
      "name": "boolean",
    },
  },
  "expression": Object {
    "context": Object {
      "domain": <DOMAIN>,
      "hasInvalidType": false,
      "prev": "<PREV CONTEXT>",
      "scope": "<SCOPE [empty]>",
      "title": "Customer",
      "type": Object {
        "attribute": null,
        "card": "seq",
        "domain": <DOMAIN>,
        "entity": "customer",
        "name": "record",
      },
    },
    "name": "navigate",
    "path": "customer",
    "regular": false,
  },
  "name": "unary",
  "op": "not",
}
`;

exports[`inferExpressionType(context, expression) true 1`] = `
Object {
  "context": Object {
    "domain": <DOMAIN>,
    "hasInvalidType": false,
    "prev": "<PREV CONTEXT>",
    "scope": "<SCOPE [empty]>",
    "title": null,
    "type": Object {
      "card": null,
      "domain": <DOMAIN>,
      "name": "boolean",
    },
  },
  "name": "value",
  "value": true,
}
`;

exports[`inferType() individual.name 1`] = `
Object {
  "context": Object {
    "hasInvalidType": false,
    "type": Object {
      "card": "seq",
      "domain": <DOMAIN>,
      "name": "text",
    },
  },
  "name": "pipeline",
  "pipeline": Array [
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "navigate",
      "path": "individual",
      "regular": false,
    },
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "card": "seq",
          "domain": <DOMAIN>,
          "name": "text",
        },
      },
      "name": "navigate",
      "path": "name",
      "regular": false,
    },
  ],
}
`;

exports[`inferType() individual.name:count() 1`] = `
Object {
  "context": Object {
    "hasInvalidType": false,
    "type": Object {
      "card": null,
      "domain": <DOMAIN>,
      "name": "number",
    },
  },
  "name": "pipeline",
  "pipeline": Array [
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "navigate",
      "path": "individual",
      "regular": false,
    },
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "card": "seq",
          "domain": <DOMAIN>,
          "name": "text",
        },
      },
      "name": "navigate",
      "path": "name",
      "regular": false,
    },
    Object {
      "aggregate": "count",
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "card": null,
          "domain": <DOMAIN>,
          "name": "number",
        },
      },
      "name": "aggregate",
      "path": null,
    },
  ],
}
`;

exports[`inferType() individual.sample 1`] = `
Object {
  "context": Object {
    "hasInvalidType": false,
    "type": Object {
      "attribute": null,
      "card": "seq",
      "domain": <DOMAIN>,
      "entity": "sample",
      "name": "record",
    },
  },
  "name": "pipeline",
  "pipeline": Array [
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "navigate",
      "path": "individual",
      "regular": false,
    },
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "sample",
          "name": "record",
        },
      },
      "name": "navigate",
      "path": "sample",
      "regular": false,
    },
  ],
}
`;

exports[`inferType() individual.sample.title 1`] = `
Object {
  "context": Object {
    "hasInvalidType": false,
    "type": Object {
      "card": "seq",
      "domain": <DOMAIN>,
      "name": "text",
    },
  },
  "name": "pipeline",
  "pipeline": Array [
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "navigate",
      "path": "individual",
      "regular": false,
    },
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "sample",
          "name": "record",
        },
      },
      "name": "navigate",
      "path": "sample",
      "regular": false,
    },
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "card": "seq",
          "domain": <DOMAIN>,
          "name": "text",
        },
      },
      "name": "navigate",
      "path": "title",
      "regular": false,
    },
  ],
}
`;

exports[`inferType() individual:define(id := identity).select(id := id) 1`] = `
Object {
  "context": Object {
    "hasInvalidType": false,
    "type": Object {
      "attribute": Object {
        "id": Object {
          "title": "Identity",
          "type": Object {
            "attribute": null,
            "card": null,
            "domain": <DOMAIN>,
            "entity": "identity",
            "name": "record",
          },
        },
      },
      "card": "seq",
      "domain": <DOMAIN>,
      "entity": null,
      "name": "record",
    },
  },
  "name": "pipeline",
  "pipeline": Array [
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "navigate",
      "path": "individual",
      "regular": false,
    },
    Object {
      "binding": Object {
        "name": "id",
        "query": Object {
          "context": Object {
            "hasInvalidType": false,
            "type": Object {
              "attribute": null,
              "card": null,
              "domain": <DOMAIN>,
              "entity": "identity",
              "name": "record",
            },
          },
          "name": "pipeline",
          "pipeline": Array [
            Object {
              "context": Object {
                "hasInvalidType": false,
                "type": Object {
                  "attribute": null,
                  "card": null,
                  "domain": <DOMAIN>,
                  "entity": "identity",
                  "name": "record",
                },
              },
              "name": "navigate",
              "path": "identity",
              "regular": false,
            },
          ],
        },
      },
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "define",
    },
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": Object {
            "id": Object {
              "title": "Identity",
              "type": Object {
                "attribute": null,
                "card": null,
                "domain": <DOMAIN>,
                "entity": "identity",
                "name": "record",
              },
            },
          },
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": null,
          "name": "record",
        },
      },
      "name": "select",
      "select": Object {
        "id": Object {
          "context": Object {
            "hasInvalidType": false,
            "type": Object {
              "attribute": null,
              "card": null,
              "domain": <DOMAIN>,
              "entity": "identity",
              "name": "record",
            },
          },
          "name": "pipeline",
          "pipeline": Array [
            Object {
              "context": Object {
                "hasInvalidType": false,
                "type": Object {
                  "attribute": null,
                  "card": null,
                  "domain": <DOMAIN>,
                  "entity": "identity",
                  "name": "record",
                },
              },
              "name": "navigate",
              "path": "id",
              "regular": false,
            },
          ],
        },
      },
    },
  ],
}
`;

exports[`inferType() individual:define(id := identity).select(id := id.name) 1`] = `
Object {
  "context": Object {
    "hasInvalidType": false,
    "type": Object {
      "attribute": Object {
        "id": Object {
          "title": "Identity Name",
          "type": Object {
            "card": null,
            "domain": <DOMAIN>,
            "name": "text",
          },
        },
      },
      "card": "seq",
      "domain": <DOMAIN>,
      "entity": null,
      "name": "record",
    },
  },
  "name": "pipeline",
  "pipeline": Array [
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "navigate",
      "path": "individual",
      "regular": false,
    },
    Object {
      "binding": Object {
        "name": "id",
        "query": Object {
          "context": Object {
            "hasInvalidType": false,
            "type": Object {
              "attribute": null,
              "card": null,
              "domain": <DOMAIN>,
              "entity": "identity",
              "name": "record",
            },
          },
          "name": "pipeline",
          "pipeline": Array [
            Object {
              "context": Object {
                "hasInvalidType": false,
                "type": Object {
                  "attribute": null,
                  "card": null,
                  "domain": <DOMAIN>,
                  "entity": "identity",
                  "name": "record",
                },
              },
              "name": "navigate",
              "path": "identity",
              "regular": false,
            },
          ],
        },
      },
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "define",
    },
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": Object {
            "id": Object {
              "title": "Identity Name",
              "type": Object {
                "card": null,
                "domain": <DOMAIN>,
                "name": "text",
              },
            },
          },
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": null,
          "name": "record",
        },
      },
      "name": "select",
      "select": Object {
        "id": Object {
          "context": Object {
            "hasInvalidType": false,
            "type": Object {
              "card": null,
              "domain": <DOMAIN>,
              "name": "text",
            },
          },
          "name": "pipeline",
          "pipeline": Array [
            Object {
              "context": Object {
                "hasInvalidType": false,
                "type": Object {
                  "attribute": null,
                  "card": null,
                  "domain": <DOMAIN>,
                  "entity": "identity",
                  "name": "record",
                },
              },
              "name": "navigate",
              "path": "id",
              "regular": false,
            },
            Object {
              "context": Object {
                "hasInvalidType": false,
                "type": Object {
                  "card": null,
                  "domain": <DOMAIN>,
                  "name": "text",
                },
              },
              "name": "navigate",
              "path": "name",
              "regular": false,
            },
          ],
        },
      },
    },
  ],
}
`;

exports[`inferType() individual:define(id := identity.name).select(id := id) 1`] = `
Object {
  "context": Object {
    "hasInvalidType": false,
    "type": Object {
      "attribute": Object {
        "id": Object {
          "title": "Identity Name",
          "type": Object {
            "card": null,
            "domain": <DOMAIN>,
            "name": "text",
          },
        },
      },
      "card": "seq",
      "domain": <DOMAIN>,
      "entity": null,
      "name": "record",
    },
  },
  "name": "pipeline",
  "pipeline": Array [
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "navigate",
      "path": "individual",
      "regular": false,
    },
    Object {
      "binding": Object {
        "name": "id",
        "query": Object {
          "context": Object {
            "hasInvalidType": false,
            "type": Object {
              "card": null,
              "domain": <DOMAIN>,
              "name": "text",
            },
          },
          "name": "pipeline",
          "pipeline": Array [
            Object {
              "context": Object {
                "hasInvalidType": false,
                "type": Object {
                  "attribute": null,
                  "card": null,
                  "domain": <DOMAIN>,
                  "entity": "identity",
                  "name": "record",
                },
              },
              "name": "navigate",
              "path": "identity",
              "regular": false,
            },
            Object {
              "context": Object {
                "hasInvalidType": false,
                "type": Object {
                  "card": null,
                  "domain": <DOMAIN>,
                  "name": "text",
                },
              },
              "name": "navigate",
              "path": "name",
              "regular": false,
            },
          ],
        },
      },
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "define",
    },
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": Object {
            "id": Object {
              "title": "Identity Name",
              "type": Object {
                "card": null,
                "domain": <DOMAIN>,
                "name": "text",
              },
            },
          },
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": null,
          "name": "record",
        },
      },
      "name": "select",
      "select": Object {
        "id": Object {
          "context": Object {
            "hasInvalidType": false,
            "type": Object {
              "card": null,
              "domain": <DOMAIN>,
              "name": "text",
            },
          },
          "name": "pipeline",
          "pipeline": Array [
            Object {
              "context": Object {
                "hasInvalidType": false,
                "type": Object {
                  "card": null,
                  "domain": <DOMAIN>,
                  "name": "text",
                },
              },
              "name": "navigate",
              "path": "id",
              "regular": false,
            },
          ],
        },
      },
    },
  ],
}
`;

exports[`inferType() individual:define(id := identity.name):group(id)) 1`] = `
Object {
  "context": Object {
    "domain": <DOMAIN>,
    "hasInvalidType": false,
    "prev": "<PREV CONTEXT>",
    "scope": "<SCOPE [empty]>",
    "title": "Individual",
    "type": Object {
      "attribute": Object {
        "id": Object {
          "groupBy": true,
          "type": Object {
            "card": null,
            "domain": <DOMAIN>,
            "name": "text",
          },
        },
        "individual": Object {
          "type": Object {
            "attribute": null,
            "card": "seq",
            "domain": <DOMAIN>,
            "entity": "individual",
            "name": "record",
          },
        },
      },
      "card": "seq",
      "domain": <DOMAIN>,
      "entity": null,
      "name": "record",
    },
  },
  "name": "pipeline",
  "pipeline": Array [
    Object {
      "context": Object {
        "domain": <DOMAIN>,
        "hasInvalidType": false,
        "prev": "<PREV CONTEXT>",
        "scope": "<SCOPE [empty]>",
        "title": "Individual",
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "navigate",
      "path": "individual",
      "regular": false,
    },
    Object {
      "binding": Object {
        "name": "id",
        "query": Object {
          "context": Object {
            "domain": <DOMAIN>,
            "hasInvalidType": false,
            "prev": "<PREV CONTEXT>",
            "scope": "<SCOPE [empty]>",
            "title": "Identity Name",
            "type": Object {
              "card": null,
              "domain": <DOMAIN>,
              "name": "text",
            },
          },
          "name": "pipeline",
          "pipeline": Array [
            Object {
              "context": Object {
                "domain": <DOMAIN>,
                "hasInvalidType": false,
                "prev": "<PREV CONTEXT>",
                "scope": "<SCOPE [empty]>",
                "title": "Identity",
                "type": Object {
                  "attribute": null,
                  "card": null,
                  "domain": <DOMAIN>,
                  "entity": "identity",
                  "name": "record",
                },
              },
              "name": "navigate",
              "path": "identity",
              "regular": false,
            },
            Object {
              "context": Object {
                "domain": <DOMAIN>,
                "hasInvalidType": false,
                "prev": "<PREV CONTEXT>",
                "scope": "<SCOPE [empty]>",
                "title": "Name",
                "type": Object {
                  "card": null,
                  "domain": <DOMAIN>,
                  "name": "text",
                },
              },
              "name": "navigate",
              "path": "name",
              "regular": false,
            },
          ],
        },
      },
      "context": Object {
        "domain": <DOMAIN>,
        "hasInvalidType": false,
        "prev": "<PREV CONTEXT>",
        "scope": "<SCOPE id>",
        "title": "Identity Name",
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "define",
    },
    Object {
      "byPath": Array [
        "id",
      ],
      "context": Object {
        "domain": <DOMAIN>,
        "hasInvalidType": false,
        "prev": "<PREV CONTEXT>",
        "scope": "<SCOPE [empty]>",
        "title": "Group by Identity Name",
        "type": Object {
          "attribute": Object {
            "id": Object {
              "groupBy": true,
              "type": Object {
                "card": null,
                "domain": <DOMAIN>,
                "name": "text",
              },
            },
            "individual": Object {
              "type": Object {
                "attribute": null,
                "card": "seq",
                "domain": <DOMAIN>,
                "entity": "individual",
                "name": "record",
              },
            },
          },
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": null,
          "name": "record",
        },
      },
      "name": "group",
    },
  ],
}
`;

exports[`inferType() individual:define(id := identity:select(name)).select(id := id) 1`] = `
Object {
  "context": Object {
    "hasInvalidType": false,
    "type": Object {
      "attribute": Object {
        "id": Object {
          "title": "Identity",
          "type": Object {
            "attribute": Object {
              "name": Object {
                "title": "Name",
                "type": Object {
                  "card": null,
                  "domain": <DOMAIN>,
                  "name": "text",
                },
              },
            },
            "card": null,
            "domain": <DOMAIN>,
            "entity": null,
            "name": "record",
          },
        },
      },
      "card": "seq",
      "domain": <DOMAIN>,
      "entity": null,
      "name": "record",
    },
  },
  "name": "pipeline",
  "pipeline": Array [
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "navigate",
      "path": "individual",
      "regular": false,
    },
    Object {
      "binding": Object {
        "name": "id",
        "query": Object {
          "context": Object {
            "hasInvalidType": false,
            "type": Object {
              "attribute": Object {
                "name": Object {
                  "title": "Name",
                  "type": Object {
                    "card": null,
                    "domain": <DOMAIN>,
                    "name": "text",
                  },
                },
              },
              "card": null,
              "domain": <DOMAIN>,
              "entity": null,
              "name": "record",
            },
          },
          "name": "pipeline",
          "pipeline": Array [
            Object {
              "context": Object {
                "hasInvalidType": false,
                "type": Object {
                  "attribute": null,
                  "card": null,
                  "domain": <DOMAIN>,
                  "entity": "identity",
                  "name": "record",
                },
              },
              "name": "navigate",
              "path": "identity",
              "regular": false,
            },
            Object {
              "context": Object {
                "hasInvalidType": false,
                "type": Object {
                  "attribute": Object {
                    "name": Object {
                      "title": "Name",
                      "type": Object {
                        "card": null,
                        "domain": <DOMAIN>,
                        "name": "text",
                      },
                    },
                  },
                  "card": null,
                  "domain": <DOMAIN>,
                  "entity": null,
                  "name": "record",
                },
              },
              "name": "select",
              "select": Object {
                "name": Object {
                  "context": Object {
                    "hasInvalidType": false,
                    "type": Object {
                      "card": null,
                      "domain": <DOMAIN>,
                      "name": "text",
                    },
                  },
                  "name": "pipeline",
                  "pipeline": Array [
                    Object {
                      "context": Object {
                        "hasInvalidType": false,
                        "type": Object {
                          "card": null,
                          "domain": <DOMAIN>,
                          "name": "text",
                        },
                      },
                      "name": "navigate",
                      "path": "name",
                      "regular": false,
                    },
                  ],
                },
              },
            },
          ],
        },
      },
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "define",
    },
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": Object {
            "id": Object {
              "title": "Identity",
              "type": Object {
                "attribute": Object {
                  "name": Object {
                    "title": "Name",
                    "type": Object {
                      "card": null,
                      "domain": <DOMAIN>,
                      "name": "text",
                    },
                  },
                },
                "card": null,
                "domain": <DOMAIN>,
                "entity": null,
                "name": "record",
              },
            },
          },
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": null,
          "name": "record",
        },
      },
      "name": "select",
      "select": Object {
        "id": Object {
          "context": Object {
            "hasInvalidType": false,
            "type": Object {
              "attribute": Object {
                "name": Object {
                  "title": "Name",
                  "type": Object {
                    "card": null,
                    "domain": <DOMAIN>,
                    "name": "text",
                  },
                },
              },
              "card": null,
              "domain": <DOMAIN>,
              "entity": null,
              "name": "record",
            },
          },
          "name": "pipeline",
          "pipeline": Array [
            Object {
              "context": Object {
                "hasInvalidType": false,
                "type": Object {
                  "attribute": Object {
                    "name": Object {
                      "title": "Name",
                      "type": Object {
                        "card": null,
                        "domain": <DOMAIN>,
                        "name": "text",
                      },
                    },
                  },
                  "card": null,
                  "domain": <DOMAIN>,
                  "entity": null,
                  "name": "record",
                },
              },
              "name": "navigate",
              "path": "id",
              "regular": false,
            },
          ],
        },
      },
    },
  ],
}
`;

exports[`inferType() individual:define(newname := name):select(a := newname, b := name) 1`] = `
Object {
  "context": Object {
    "hasInvalidType": false,
    "type": Object {
      "attribute": Object {
        "a": Object {
          "title": "Name",
          "type": Object {
            "card": null,
            "domain": <DOMAIN>,
            "name": "text",
          },
        },
        "b": Object {
          "title": "Name",
          "type": Object {
            "card": null,
            "domain": <DOMAIN>,
            "name": "text",
          },
        },
      },
      "card": "seq",
      "domain": <DOMAIN>,
      "entity": null,
      "name": "record",
    },
  },
  "name": "pipeline",
  "pipeline": Array [
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "navigate",
      "path": "individual",
      "regular": false,
    },
    Object {
      "binding": Object {
        "name": "newname",
        "query": Object {
          "context": Object {
            "hasInvalidType": false,
            "type": Object {
              "card": null,
              "domain": <DOMAIN>,
              "name": "text",
            },
          },
          "name": "pipeline",
          "pipeline": Array [
            Object {
              "context": Object {
                "hasInvalidType": false,
                "type": Object {
                  "card": null,
                  "domain": <DOMAIN>,
                  "name": "text",
                },
              },
              "name": "navigate",
              "path": "name",
              "regular": false,
            },
          ],
        },
      },
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "define",
    },
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": Object {
            "a": Object {
              "title": "Name",
              "type": Object {
                "card": null,
                "domain": <DOMAIN>,
                "name": "text",
              },
            },
            "b": Object {
              "title": "Name",
              "type": Object {
                "card": null,
                "domain": <DOMAIN>,
                "name": "text",
              },
            },
          },
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": null,
          "name": "record",
        },
      },
      "name": "select",
      "select": Object {
        "a": Object {
          "context": Object {
            "hasInvalidType": false,
            "type": Object {
              "card": null,
              "domain": <DOMAIN>,
              "name": "text",
            },
          },
          "name": "pipeline",
          "pipeline": Array [
            Object {
              "context": Object {
                "hasInvalidType": false,
                "type": Object {
                  "card": null,
                  "domain": <DOMAIN>,
                  "name": "text",
                },
              },
              "name": "navigate",
              "path": "newname",
              "regular": false,
            },
          ],
        },
        "b": Object {
          "context": Object {
            "hasInvalidType": false,
            "type": Object {
              "card": null,
              "domain": <DOMAIN>,
              "name": "text",
            },
          },
          "name": "pipeline",
          "pipeline": Array [
            Object {
              "context": Object {
                "hasInvalidType": false,
                "type": Object {
                  "card": null,
                  "domain": <DOMAIN>,
                  "name": "text",
                },
              },
              "name": "navigate",
              "path": "name",
              "regular": false,
            },
          ],
        },
      },
    },
  ],
}
`;

exports[`inferType() individual:define(nickname := name) 1`] = `
Object {
  "context": Object {
    "hasInvalidType": false,
    "type": Object {
      "attribute": null,
      "card": "seq",
      "domain": <DOMAIN>,
      "entity": "individual",
      "name": "record",
    },
  },
  "name": "pipeline",
  "pipeline": Array [
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "navigate",
      "path": "individual",
      "regular": false,
    },
    Object {
      "binding": Object {
        "name": "nickname",
        "query": Object {
          "context": Object {
            "hasInvalidType": false,
            "type": Object {
              "card": null,
              "domain": <DOMAIN>,
              "name": "text",
            },
          },
          "name": "pipeline",
          "pipeline": Array [
            Object {
              "context": Object {
                "hasInvalidType": false,
                "type": Object {
                  "card": null,
                  "domain": <DOMAIN>,
                  "name": "text",
                },
              },
              "name": "navigate",
              "path": "name",
              "regular": false,
            },
          ],
        },
      },
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "define",
    },
  ],
}
`;

exports[`inferType() individual:define(nickname := name).nickname 1`] = `
Object {
  "context": Object {
    "hasInvalidType": false,
    "type": Object {
      "card": "seq",
      "domain": <DOMAIN>,
      "name": "text",
    },
  },
  "name": "pipeline",
  "pipeline": Array [
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "navigate",
      "path": "individual",
      "regular": false,
    },
    Object {
      "binding": Object {
        "name": "nickname",
        "query": Object {
          "context": Object {
            "hasInvalidType": false,
            "type": Object {
              "card": null,
              "domain": <DOMAIN>,
              "name": "text",
            },
          },
          "name": "pipeline",
          "pipeline": Array [
            Object {
              "context": Object {
                "hasInvalidType": false,
                "type": Object {
                  "card": null,
                  "domain": <DOMAIN>,
                  "name": "text",
                },
              },
              "name": "navigate",
              "path": "name",
              "regular": false,
            },
          ],
        },
      },
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "define",
    },
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "card": "seq",
          "domain": <DOMAIN>,
          "name": "text",
        },
      },
      "name": "navigate",
      "path": "nickname",
      "regular": false,
    },
  ],
}
`;

exports[`inferType() individual:define(nickname := name):select(nickname) 1`] = `
Object {
  "context": Object {
    "hasInvalidType": false,
    "type": Object {
      "attribute": Object {
        "nickname": Object {
          "title": "Name",
          "type": Object {
            "card": null,
            "domain": <DOMAIN>,
            "name": "text",
          },
        },
      },
      "card": "seq",
      "domain": <DOMAIN>,
      "entity": null,
      "name": "record",
    },
  },
  "name": "pipeline",
  "pipeline": Array [
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "navigate",
      "path": "individual",
      "regular": false,
    },
    Object {
      "binding": Object {
        "name": "nickname",
        "query": Object {
          "context": Object {
            "hasInvalidType": false,
            "type": Object {
              "card": null,
              "domain": <DOMAIN>,
              "name": "text",
            },
          },
          "name": "pipeline",
          "pipeline": Array [
            Object {
              "context": Object {
                "hasInvalidType": false,
                "type": Object {
                  "card": null,
                  "domain": <DOMAIN>,
                  "name": "text",
                },
              },
              "name": "navigate",
              "path": "name",
              "regular": false,
            },
          ],
        },
      },
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "define",
    },
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": Object {
            "nickname": Object {
              "title": "Name",
              "type": Object {
                "card": null,
                "domain": <DOMAIN>,
                "name": "text",
              },
            },
          },
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": null,
          "name": "record",
        },
      },
      "name": "select",
      "select": Object {
        "nickname": Object {
          "context": Object {
            "hasInvalidType": false,
            "type": Object {
              "card": null,
              "domain": <DOMAIN>,
              "name": "text",
            },
          },
          "name": "pipeline",
          "pipeline": Array [
            Object {
              "context": Object {
                "hasInvalidType": false,
                "type": Object {
                  "card": null,
                  "domain": <DOMAIN>,
                  "name": "text",
                },
              },
              "name": "navigate",
              "path": "nickname",
              "regular": false,
            },
          ],
        },
      },
    },
  ],
}
`;

exports[`inferType() individual:define(nickname := name):select(nickname:select(code)) 1`] = `
Object {
  "context": Object {
    "hasInvalidType": true,
    "type": Object {
      "attribute": Object {
        "nickname": Object {
          "title": "Name",
          "type": Object {
            "attribute": Object {
              "code": Object {
                "title": "code",
                "type": Object {
                  "card": null,
                  "domain": <DOMAIN>,
                  "name": "invalid",
                },
              },
            },
            "card": null,
            "domain": <DOMAIN>,
            "entity": null,
            "name": "record",
          },
        },
      },
      "card": "seq",
      "domain": <DOMAIN>,
      "entity": null,
      "name": "record",
    },
  },
  "name": "pipeline",
  "pipeline": Array [
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "navigate",
      "path": "individual",
      "regular": false,
    },
    Object {
      "binding": Object {
        "name": "nickname",
        "query": Object {
          "context": Object {
            "hasInvalidType": false,
            "type": Object {
              "card": null,
              "domain": <DOMAIN>,
              "name": "text",
            },
          },
          "name": "pipeline",
          "pipeline": Array [
            Object {
              "context": Object {
                "hasInvalidType": false,
                "type": Object {
                  "card": null,
                  "domain": <DOMAIN>,
                  "name": "text",
                },
              },
              "name": "navigate",
              "path": "name",
              "regular": false,
            },
          ],
        },
      },
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "define",
    },
    Object {
      "context": Object {
        "hasInvalidType": true,
        "type": Object {
          "attribute": Object {
            "nickname": Object {
              "title": "Name",
              "type": Object {
                "attribute": Object {
                  "code": Object {
                    "title": "code",
                    "type": Object {
                      "card": null,
                      "domain": <DOMAIN>,
                      "name": "invalid",
                    },
                  },
                },
                "card": null,
                "domain": <DOMAIN>,
                "entity": null,
                "name": "record",
              },
            },
          },
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": null,
          "name": "record",
        },
      },
      "name": "select",
      "select": Object {
        "nickname": Object {
          "context": Object {
            "hasInvalidType": true,
            "type": Object {
              "attribute": Object {
                "code": Object {
                  "title": "code",
                  "type": Object {
                    "card": null,
                    "domain": <DOMAIN>,
                    "name": "invalid",
                  },
                },
              },
              "card": null,
              "domain": <DOMAIN>,
              "entity": null,
              "name": "record",
            },
          },
          "name": "pipeline",
          "pipeline": Array [
            Object {
              "context": Object {
                "hasInvalidType": false,
                "type": Object {
                  "card": null,
                  "domain": <DOMAIN>,
                  "name": "text",
                },
              },
              "name": "navigate",
              "path": "nickname",
              "regular": false,
            },
            Object {
              "context": Object {
                "hasInvalidType": true,
                "type": Object {
                  "attribute": Object {
                    "code": Object {
                      "title": "code",
                      "type": Object {
                        "card": null,
                        "domain": <DOMAIN>,
                        "name": "invalid",
                      },
                    },
                  },
                  "card": null,
                  "domain": <DOMAIN>,
                  "entity": null,
                  "name": "record",
                },
              },
              "name": "select",
              "select": Object {
                "code": Object {
                  "context": Object {
                    "hasInvalidType": true,
                    "type": Object {
                      "card": null,
                      "domain": <DOMAIN>,
                      "name": "invalid",
                    },
                  },
                  "name": "pipeline",
                  "pipeline": Array [
                    Object {
                      "context": Object {
                        "hasInvalidType": true,
                        "type": Object {
                          "card": null,
                          "domain": <DOMAIN>,
                          "name": "invalid",
                        },
                      },
                      "name": "navigate",
                      "path": "code",
                      "regular": false,
                    },
                  ],
                },
              },
            },
          ],
        },
      },
    },
  ],
}
`;

exports[`inferType() individual:define(s := sample:count()):select(s:select(title)) 1`] = `
Object {
  "context": Object {
    "domain": <DOMAIN>,
    "hasInvalidType": true,
    "prev": "<PREV CONTEXT>",
    "scope": "<SCOPE s>",
    "title": "Individual",
    "type": Object {
      "attribute": Object {
        "s": Object {
          "title": "Sample Count",
          "type": Object {
            "attribute": Object {
              "title": Object {
                "title": "title",
                "type": Object {
                  "card": null,
                  "domain": <DOMAIN>,
                  "name": "invalid",
                },
              },
            },
            "card": null,
            "domain": <DOMAIN>,
            "entity": null,
            "name": "record",
          },
        },
      },
      "card": "seq",
      "domain": <DOMAIN>,
      "entity": null,
      "name": "record",
    },
  },
  "name": "pipeline",
  "pipeline": Array [
    Object {
      "context": Object {
        "domain": <DOMAIN>,
        "hasInvalidType": false,
        "prev": "<PREV CONTEXT>",
        "scope": "<SCOPE [empty]>",
        "title": "Individual",
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "navigate",
      "path": "individual",
      "regular": false,
    },
    Object {
      "binding": Object {
        "name": "s",
        "query": Object {
          "context": Object {
            "domain": <DOMAIN>,
            "hasInvalidType": false,
            "prev": "<PREV CONTEXT>",
            "scope": "<SCOPE [empty]>",
            "title": "Sample Count",
            "type": Object {
              "card": null,
              "domain": <DOMAIN>,
              "name": "number",
            },
          },
          "name": "pipeline",
          "pipeline": Array [
            Object {
              "context": Object {
                "domain": <DOMAIN>,
                "hasInvalidType": false,
                "prev": "<PREV CONTEXT>",
                "scope": "<SCOPE [empty]>",
                "title": "Sample",
                "type": Object {
                  "attribute": null,
                  "card": "seq",
                  "domain": <DOMAIN>,
                  "entity": "sample",
                  "name": "record",
                },
              },
              "name": "navigate",
              "path": "sample",
              "regular": false,
            },
            Object {
              "aggregate": "count",
              "context": Object {
                "domain": <DOMAIN>,
                "hasInvalidType": false,
                "prev": "<PREV CONTEXT>",
                "scope": "<SCOPE [empty]>",
                "title": "Count",
                "type": Object {
                  "card": null,
                  "domain": <DOMAIN>,
                  "name": "number",
                },
              },
              "name": "aggregate",
              "path": null,
            },
          ],
        },
      },
      "context": Object {
        "domain": <DOMAIN>,
        "hasInvalidType": false,
        "prev": "<PREV CONTEXT>",
        "scope": "<SCOPE s>",
        "title": "Sample Count",
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "define",
    },
    Object {
      "context": Object {
        "domain": <DOMAIN>,
        "hasInvalidType": true,
        "prev": "<PREV CONTEXT>",
        "scope": "<SCOPE s>",
        "title": null,
        "type": Object {
          "attribute": Object {
            "s": Object {
              "title": "Sample Count",
              "type": Object {
                "attribute": Object {
                  "title": Object {
                    "title": "title",
                    "type": Object {
                      "card": null,
                      "domain": <DOMAIN>,
                      "name": "invalid",
                    },
                  },
                },
                "card": null,
                "domain": <DOMAIN>,
                "entity": null,
                "name": "record",
              },
            },
          },
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": null,
          "name": "record",
        },
      },
      "name": "select",
      "select": Object {
        "s": Object {
          "context": Object {
            "domain": <DOMAIN>,
            "hasInvalidType": true,
            "prev": "<PREV CONTEXT>",
            "scope": "<SCOPE [empty]>",
            "title": "Sample Count",
            "type": Object {
              "attribute": Object {
                "title": Object {
                  "title": "title",
                  "type": Object {
                    "card": null,
                    "domain": <DOMAIN>,
                    "name": "invalid",
                  },
                },
              },
              "card": null,
              "domain": <DOMAIN>,
              "entity": null,
              "name": "record",
            },
          },
          "name": "pipeline",
          "pipeline": Array [
            Object {
              "context": Object {
                "domain": <DOMAIN>,
                "hasInvalidType": false,
                "prev": "<PREV CONTEXT>",
                "scope": "<SCOPE [empty]>",
                "title": "Sample Count",
                "type": Object {
                  "card": null,
                  "domain": <DOMAIN>,
                  "name": "number",
                },
              },
              "name": "navigate",
              "path": "s",
              "regular": false,
            },
            Object {
              "context": Object {
                "domain": <DOMAIN>,
                "hasInvalidType": true,
                "prev": "<PREV CONTEXT>",
                "scope": "<SCOPE [empty]>",
                "title": null,
                "type": Object {
                  "attribute": Object {
                    "title": Object {
                      "title": "title",
                      "type": Object {
                        "card": null,
                        "domain": <DOMAIN>,
                        "name": "invalid",
                      },
                    },
                  },
                  "card": null,
                  "domain": <DOMAIN>,
                  "entity": null,
                  "name": "record",
                },
              },
              "name": "select",
              "select": Object {
                "title": Object {
                  "context": Object {
                    "domain": <DOMAIN>,
                    "hasInvalidType": true,
                    "prev": "<PREV CONTEXT>",
                    "scope": "<SCOPE [empty]>",
                    "title": "title",
                    "type": Object {
                      "card": null,
                      "domain": <DOMAIN>,
                      "name": "invalid",
                    },
                  },
                  "name": "pipeline",
                  "pipeline": Array [
                    Object {
                      "context": Object {
                        "domain": <DOMAIN>,
                        "hasInvalidType": true,
                        "prev": "<PREV CONTEXT>",
                        "scope": "<SCOPE [empty]>",
                        "title": null,
                        "type": Object {
                          "card": null,
                          "domain": <DOMAIN>,
                          "name": "invalid",
                        },
                      },
                      "name": "navigate",
                      "path": "title",
                      "regular": false,
                    },
                  ],
                },
              },
            },
          ],
        },
      },
    },
  ],
}
`;

exports[`inferType() individual:group(age)) 1`] = `
Object {
  "context": Object {
    "domain": <DOMAIN>,
    "hasInvalidType": false,
    "prev": "<PREV CONTEXT>",
    "scope": "<SCOPE [empty]>",
    "title": "Individual",
    "type": Object {
      "attribute": Object {
        "age": Object {
          "groupBy": true,
          "type": Object {
            "card": "opt",
            "domain": <DOMAIN>,
            "name": "text",
          },
        },
        "individual": Object {
          "type": Object {
            "attribute": null,
            "card": "seq",
            "domain": <DOMAIN>,
            "entity": "individual",
            "name": "record",
          },
        },
      },
      "card": "seq",
      "domain": <DOMAIN>,
      "entity": null,
      "name": "record",
    },
  },
  "name": "pipeline",
  "pipeline": Array [
    Object {
      "context": Object {
        "domain": <DOMAIN>,
        "hasInvalidType": false,
        "prev": "<PREV CONTEXT>",
        "scope": "<SCOPE [empty]>",
        "title": "Individual",
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "navigate",
      "path": "individual",
      "regular": false,
    },
    Object {
      "byPath": Array [
        "age",
      ],
      "context": Object {
        "domain": <DOMAIN>,
        "hasInvalidType": false,
        "prev": "<PREV CONTEXT>",
        "scope": "<SCOPE [empty]>",
        "title": "Group by Age",
        "type": Object {
          "attribute": Object {
            "age": Object {
              "groupBy": true,
              "type": Object {
                "card": "opt",
                "domain": <DOMAIN>,
                "name": "text",
              },
            },
            "individual": Object {
              "type": Object {
                "attribute": null,
                "card": "seq",
                "domain": <DOMAIN>,
                "entity": "individual",
                "name": "record",
              },
            },
          },
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": null,
          "name": "record",
        },
      },
      "name": "group",
    },
  ],
}
`;

exports[`inferType() individual:group(age):name) 1`] = `
Object {
  "context": Object {
    "domain": <DOMAIN>,
    "hasInvalidType": false,
    "prev": "<PREV CONTEXT>",
    "scope": "<SCOPE [empty]>",
    "title": "Individual individual Name",
    "type": Object {
      "card": "seq",
      "domain": <DOMAIN>,
      "name": "text",
    },
  },
  "name": "pipeline",
  "pipeline": Array [
    Object {
      "context": Object {
        "domain": <DOMAIN>,
        "hasInvalidType": false,
        "prev": "<PREV CONTEXT>",
        "scope": "<SCOPE [empty]>",
        "title": "Individual",
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "navigate",
      "path": "individual",
      "regular": false,
    },
    Object {
      "byPath": Array [
        "age",
      ],
      "context": Object {
        "domain": <DOMAIN>,
        "hasInvalidType": false,
        "prev": "<PREV CONTEXT>",
        "scope": "<SCOPE [empty]>",
        "title": "Group by Age",
        "type": Object {
          "attribute": Object {
            "age": Object {
              "groupBy": true,
              "type": Object {
                "card": "opt",
                "domain": <DOMAIN>,
                "name": "text",
              },
            },
            "individual": Object {
              "type": Object {
                "attribute": null,
                "card": "seq",
                "domain": <DOMAIN>,
                "entity": "individual",
                "name": "record",
              },
            },
          },
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": null,
          "name": "record",
        },
      },
      "name": "group",
    },
    Object {
      "context": Object {
        "domain": <DOMAIN>,
        "hasInvalidType": false,
        "prev": "<PREV CONTEXT>",
        "scope": "<SCOPE [empty]>",
        "title": undefined,
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "navigate",
      "path": "individual",
      "regular": false,
    },
    Object {
      "context": Object {
        "domain": <DOMAIN>,
        "hasInvalidType": false,
        "prev": "<PREV CONTEXT>",
        "scope": "<SCOPE [empty]>",
        "title": "Name",
        "type": Object {
          "card": "seq",
          "domain": <DOMAIN>,
          "name": "text",
        },
      },
      "name": "navigate",
      "path": "name",
      "regular": false,
    },
  ],
}
`;

exports[`inferType() individual:group(age):select(age, name)) 1`] = `
Object {
  "context": Object {
    "domain": <DOMAIN>,
    "hasInvalidType": false,
    "prev": "<PREV CONTEXT>",
    "scope": "<SCOPE [empty]>",
    "title": "Individual",
    "type": Object {
      "attribute": Object {
        "age": Object {
          "title": "individual Age",
          "type": Object {
            "card": "seq",
            "domain": <DOMAIN>,
            "name": "text",
          },
        },
        "name": Object {
          "title": "individual Name",
          "type": Object {
            "card": "seq",
            "domain": <DOMAIN>,
            "name": "text",
          },
        },
      },
      "card": "seq",
      "domain": <DOMAIN>,
      "entity": null,
      "name": "record",
    },
  },
  "name": "pipeline",
  "pipeline": Array [
    Object {
      "context": Object {
        "domain": <DOMAIN>,
        "hasInvalidType": false,
        "prev": "<PREV CONTEXT>",
        "scope": "<SCOPE [empty]>",
        "title": "Individual",
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "navigate",
      "path": "individual",
      "regular": false,
    },
    Object {
      "byPath": Array [
        "age",
      ],
      "context": Object {
        "domain": <DOMAIN>,
        "hasInvalidType": false,
        "prev": "<PREV CONTEXT>",
        "scope": "<SCOPE [empty]>",
        "title": "Group by Age",
        "type": Object {
          "attribute": Object {
            "age": Object {
              "groupBy": true,
              "type": Object {
                "card": "opt",
                "domain": <DOMAIN>,
                "name": "text",
              },
            },
            "individual": Object {
              "type": Object {
                "attribute": null,
                "card": "seq",
                "domain": <DOMAIN>,
                "entity": "individual",
                "name": "record",
              },
            },
          },
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": null,
          "name": "record",
        },
      },
      "name": "group",
    },
    Object {
      "context": Object {
        "domain": <DOMAIN>,
        "hasInvalidType": false,
        "prev": "<PREV CONTEXT>",
        "scope": "<SCOPE [empty]>",
        "title": null,
        "type": Object {
          "attribute": Object {
            "age": Object {
              "title": "individual Age",
              "type": Object {
                "card": "seq",
                "domain": <DOMAIN>,
                "name": "text",
              },
            },
            "name": Object {
              "title": "individual Name",
              "type": Object {
                "card": "seq",
                "domain": <DOMAIN>,
                "name": "text",
              },
            },
          },
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": null,
          "name": "record",
        },
      },
      "name": "select",
      "select": Object {
        "age": Object {
          "context": Object {
            "domain": <DOMAIN>,
            "hasInvalidType": false,
            "prev": "<PREV CONTEXT>",
            "scope": "<SCOPE [empty]>",
            "title": "individual Age",
            "type": Object {
              "card": "seq",
              "domain": <DOMAIN>,
              "name": "text",
            },
          },
          "name": "pipeline",
          "pipeline": Array [
            Object {
              "context": Object {
                "domain": <DOMAIN>,
                "hasInvalidType": false,
                "prev": "<PREV CONTEXT>",
                "scope": "<SCOPE [empty]>",
                "title": undefined,
                "type": Object {
                  "attribute": null,
                  "card": "seq",
                  "domain": <DOMAIN>,
                  "entity": "individual",
                  "name": "record",
                },
              },
              "name": "navigate",
              "path": "individual",
              "regular": false,
            },
            Object {
              "context": Object {
                "domain": <DOMAIN>,
                "hasInvalidType": false,
                "prev": "<PREV CONTEXT>",
                "scope": "<SCOPE [empty]>",
                "title": "Age",
                "type": Object {
                  "card": "seq",
                  "domain": <DOMAIN>,
                  "name": "text",
                },
              },
              "name": "navigate",
              "path": "age",
              "regular": false,
            },
          ],
        },
        "name": Object {
          "context": Object {
            "domain": <DOMAIN>,
            "hasInvalidType": false,
            "prev": "<PREV CONTEXT>",
            "scope": "<SCOPE [empty]>",
            "title": "individual Name",
            "type": Object {
              "card": "seq",
              "domain": <DOMAIN>,
              "name": "text",
            },
          },
          "name": "pipeline",
          "pipeline": Array [
            Object {
              "context": Object {
                "domain": <DOMAIN>,
                "hasInvalidType": false,
                "prev": "<PREV CONTEXT>",
                "scope": "<SCOPE [empty]>",
                "title": undefined,
                "type": Object {
                  "attribute": null,
                  "card": "seq",
                  "domain": <DOMAIN>,
                  "entity": "individual",
                  "name": "record",
                },
              },
              "name": "navigate",
              "path": "individual",
              "regular": false,
            },
            Object {
              "context": Object {
                "domain": <DOMAIN>,
                "hasInvalidType": false,
                "prev": "<PREV CONTEXT>",
                "scope": "<SCOPE [empty]>",
                "title": "Name",
                "type": Object {
                  "card": "seq",
                  "domain": <DOMAIN>,
                  "name": "text",
                },
              },
              "name": "navigate",
              "path": "name",
              "regular": false,
            },
          ],
        },
      },
    },
  ],
}
`;

exports[`inferType() individual:group(age):select(name)) 1`] = `
Object {
  "context": Object {
    "domain": <DOMAIN>,
    "hasInvalidType": false,
    "prev": "<PREV CONTEXT>",
    "scope": "<SCOPE [empty]>",
    "title": "Individual",
    "type": Object {
      "attribute": Object {
        "name": Object {
          "title": "individual Name",
          "type": Object {
            "card": "seq",
            "domain": <DOMAIN>,
            "name": "text",
          },
        },
      },
      "card": "seq",
      "domain": <DOMAIN>,
      "entity": null,
      "name": "record",
    },
  },
  "name": "pipeline",
  "pipeline": Array [
    Object {
      "context": Object {
        "domain": <DOMAIN>,
        "hasInvalidType": false,
        "prev": "<PREV CONTEXT>",
        "scope": "<SCOPE [empty]>",
        "title": "Individual",
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "navigate",
      "path": "individual",
      "regular": false,
    },
    Object {
      "byPath": Array [
        "age",
      ],
      "context": Object {
        "domain": <DOMAIN>,
        "hasInvalidType": false,
        "prev": "<PREV CONTEXT>",
        "scope": "<SCOPE [empty]>",
        "title": "Group by Age",
        "type": Object {
          "attribute": Object {
            "age": Object {
              "groupBy": true,
              "type": Object {
                "card": "opt",
                "domain": <DOMAIN>,
                "name": "text",
              },
            },
            "individual": Object {
              "type": Object {
                "attribute": null,
                "card": "seq",
                "domain": <DOMAIN>,
                "entity": "individual",
                "name": "record",
              },
            },
          },
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": null,
          "name": "record",
        },
      },
      "name": "group",
    },
    Object {
      "context": Object {
        "domain": <DOMAIN>,
        "hasInvalidType": false,
        "prev": "<PREV CONTEXT>",
        "scope": "<SCOPE [empty]>",
        "title": null,
        "type": Object {
          "attribute": Object {
            "name": Object {
              "title": "individual Name",
              "type": Object {
                "card": "seq",
                "domain": <DOMAIN>,
                "name": "text",
              },
            },
          },
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": null,
          "name": "record",
        },
      },
      "name": "select",
      "select": Object {
        "name": Object {
          "context": Object {
            "domain": <DOMAIN>,
            "hasInvalidType": false,
            "prev": "<PREV CONTEXT>",
            "scope": "<SCOPE [empty]>",
            "title": "individual Name",
            "type": Object {
              "card": "seq",
              "domain": <DOMAIN>,
              "name": "text",
            },
          },
          "name": "pipeline",
          "pipeline": Array [
            Object {
              "context": Object {
                "domain": <DOMAIN>,
                "hasInvalidType": false,
                "prev": "<PREV CONTEXT>",
                "scope": "<SCOPE [empty]>",
                "title": undefined,
                "type": Object {
                  "attribute": null,
                  "card": "seq",
                  "domain": <DOMAIN>,
                  "entity": "individual",
                  "name": "record",
                },
              },
              "name": "navigate",
              "path": "individual",
              "regular": false,
            },
            Object {
              "context": Object {
                "domain": <DOMAIN>,
                "hasInvalidType": false,
                "prev": "<PREV CONTEXT>",
                "scope": "<SCOPE [empty]>",
                "title": "Name",
                "type": Object {
                  "card": "seq",
                  "domain": <DOMAIN>,
                  "name": "text",
                },
              },
              "name": "navigate",
              "path": "name",
              "regular": false,
            },
          ],
        },
      },
    },
  ],
}
`;

exports[`inferType() individual:select(a := age) 1`] = `
Object {
  "context": Object {
    "hasInvalidType": false,
    "type": Object {
      "attribute": Object {
        "a": Object {
          "title": "Age",
          "type": Object {
            "card": "opt",
            "domain": <DOMAIN>,
            "name": "text",
          },
        },
      },
      "card": "seq",
      "domain": <DOMAIN>,
      "entity": null,
      "name": "record",
    },
  },
  "name": "pipeline",
  "pipeline": Array [
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "navigate",
      "path": "individual",
      "regular": false,
    },
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": Object {
            "a": Object {
              "title": "Age",
              "type": Object {
                "card": "opt",
                "domain": <DOMAIN>,
                "name": "text",
              },
            },
          },
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": null,
          "name": "record",
        },
      },
      "name": "select",
      "select": Object {
        "a": Object {
          "context": Object {
            "hasInvalidType": false,
            "type": Object {
              "card": "opt",
              "domain": <DOMAIN>,
              "name": "text",
            },
          },
          "name": "pipeline",
          "pipeline": Array [
            Object {
              "context": Object {
                "hasInvalidType": false,
                "type": Object {
                  "card": "opt",
                  "domain": <DOMAIN>,
                  "name": "text",
                },
              },
              "name": "navigate",
              "path": "age",
              "regular": false,
            },
          ],
        },
      },
    },
  ],
}
`;

exports[`inferType() individual:select(a := name, b := name) 1`] = `
Object {
  "context": Object {
    "hasInvalidType": false,
    "type": Object {
      "attribute": Object {
        "a": Object {
          "title": "Name",
          "type": Object {
            "card": null,
            "domain": <DOMAIN>,
            "name": "text",
          },
        },
        "b": Object {
          "title": "Name",
          "type": Object {
            "card": null,
            "domain": <DOMAIN>,
            "name": "text",
          },
        },
      },
      "card": "seq",
      "domain": <DOMAIN>,
      "entity": null,
      "name": "record",
    },
  },
  "name": "pipeline",
  "pipeline": Array [
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "navigate",
      "path": "individual",
      "regular": false,
    },
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": Object {
            "a": Object {
              "title": "Name",
              "type": Object {
                "card": null,
                "domain": <DOMAIN>,
                "name": "text",
              },
            },
            "b": Object {
              "title": "Name",
              "type": Object {
                "card": null,
                "domain": <DOMAIN>,
                "name": "text",
              },
            },
          },
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": null,
          "name": "record",
        },
      },
      "name": "select",
      "select": Object {
        "a": Object {
          "context": Object {
            "hasInvalidType": false,
            "type": Object {
              "card": null,
              "domain": <DOMAIN>,
              "name": "text",
            },
          },
          "name": "pipeline",
          "pipeline": Array [
            Object {
              "context": Object {
                "hasInvalidType": false,
                "type": Object {
                  "card": null,
                  "domain": <DOMAIN>,
                  "name": "text",
                },
              },
              "name": "navigate",
              "path": "name",
              "regular": false,
            },
          ],
        },
        "b": Object {
          "context": Object {
            "hasInvalidType": false,
            "type": Object {
              "card": null,
              "domain": <DOMAIN>,
              "name": "text",
            },
          },
          "name": "pipeline",
          "pipeline": Array [
            Object {
              "context": Object {
                "hasInvalidType": false,
                "type": Object {
                  "card": null,
                  "domain": <DOMAIN>,
                  "name": "text",
                },
              },
              "name": "navigate",
              "path": "name",
              "regular": false,
            },
          ],
        },
      },
    },
  ],
}
`;

exports[`inferType() individual:select(a := name, b := name).a 1`] = `
Object {
  "context": Object {
    "hasInvalidType": false,
    "type": Object {
      "card": "seq",
      "domain": <DOMAIN>,
      "name": "text",
    },
  },
  "name": "pipeline",
  "pipeline": Array [
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "navigate",
      "path": "individual",
      "regular": false,
    },
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": Object {
            "a": Object {
              "title": "Name",
              "type": Object {
                "card": null,
                "domain": <DOMAIN>,
                "name": "text",
              },
            },
            "b": Object {
              "title": "Name",
              "type": Object {
                "card": null,
                "domain": <DOMAIN>,
                "name": "text",
              },
            },
          },
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": null,
          "name": "record",
        },
      },
      "name": "select",
      "select": Object {
        "a": Object {
          "context": Object {
            "hasInvalidType": false,
            "type": Object {
              "card": null,
              "domain": <DOMAIN>,
              "name": "text",
            },
          },
          "name": "pipeline",
          "pipeline": Array [
            Object {
              "context": Object {
                "hasInvalidType": false,
                "type": Object {
                  "card": null,
                  "domain": <DOMAIN>,
                  "name": "text",
                },
              },
              "name": "navigate",
              "path": "name",
              "regular": false,
            },
          ],
        },
        "b": Object {
          "context": Object {
            "hasInvalidType": false,
            "type": Object {
              "card": null,
              "domain": <DOMAIN>,
              "name": "text",
            },
          },
          "name": "pipeline",
          "pipeline": Array [
            Object {
              "context": Object {
                "hasInvalidType": false,
                "type": Object {
                  "card": null,
                  "domain": <DOMAIN>,
                  "name": "text",
                },
              },
              "name": "navigate",
              "path": "name",
              "regular": false,
            },
          ],
        },
      },
    },
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "card": "seq",
          "domain": <DOMAIN>,
          "name": "text",
        },
      },
      "name": "navigate",
      "path": "a",
      "regular": false,
    },
  ],
}
`;

exports[`inferType() individual:select(a := name, s := sample) 1`] = `
Object {
  "context": Object {
    "hasInvalidType": false,
    "type": Object {
      "attribute": Object {
        "a": Object {
          "title": "Name",
          "type": Object {
            "card": null,
            "domain": <DOMAIN>,
            "name": "text",
          },
        },
        "s": Object {
          "title": "Sample",
          "type": Object {
            "attribute": null,
            "card": "seq",
            "domain": <DOMAIN>,
            "entity": "sample",
            "name": "record",
          },
        },
      },
      "card": "seq",
      "domain": <DOMAIN>,
      "entity": null,
      "name": "record",
    },
  },
  "name": "pipeline",
  "pipeline": Array [
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "navigate",
      "path": "individual",
      "regular": false,
    },
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": Object {
            "a": Object {
              "title": "Name",
              "type": Object {
                "card": null,
                "domain": <DOMAIN>,
                "name": "text",
              },
            },
            "s": Object {
              "title": "Sample",
              "type": Object {
                "attribute": null,
                "card": "seq",
                "domain": <DOMAIN>,
                "entity": "sample",
                "name": "record",
              },
            },
          },
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": null,
          "name": "record",
        },
      },
      "name": "select",
      "select": Object {
        "a": Object {
          "context": Object {
            "hasInvalidType": false,
            "type": Object {
              "card": null,
              "domain": <DOMAIN>,
              "name": "text",
            },
          },
          "name": "pipeline",
          "pipeline": Array [
            Object {
              "context": Object {
                "hasInvalidType": false,
                "type": Object {
                  "card": null,
                  "domain": <DOMAIN>,
                  "name": "text",
                },
              },
              "name": "navigate",
              "path": "name",
              "regular": false,
            },
          ],
        },
        "s": Object {
          "context": Object {
            "hasInvalidType": false,
            "type": Object {
              "attribute": null,
              "card": "seq",
              "domain": <DOMAIN>,
              "entity": "sample",
              "name": "record",
            },
          },
          "name": "pipeline",
          "pipeline": Array [
            Object {
              "context": Object {
                "hasInvalidType": false,
                "type": Object {
                  "attribute": null,
                  "card": "seq",
                  "domain": <DOMAIN>,
                  "entity": "sample",
                  "name": "record",
                },
              },
              "name": "navigate",
              "path": "sample",
              "regular": false,
            },
          ],
        },
      },
    },
  ],
}
`;

exports[`inferType() individual:select(a := name, s := sample.title) 1`] = `
Object {
  "context": Object {
    "hasInvalidType": false,
    "type": Object {
      "attribute": Object {
        "a": Object {
          "title": "Name",
          "type": Object {
            "card": null,
            "domain": <DOMAIN>,
            "name": "text",
          },
        },
        "s": Object {
          "title": "Sample Title",
          "type": Object {
            "card": "seq",
            "domain": <DOMAIN>,
            "name": "text",
          },
        },
      },
      "card": "seq",
      "domain": <DOMAIN>,
      "entity": null,
      "name": "record",
    },
  },
  "name": "pipeline",
  "pipeline": Array [
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "navigate",
      "path": "individual",
      "regular": false,
    },
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": Object {
            "a": Object {
              "title": "Name",
              "type": Object {
                "card": null,
                "domain": <DOMAIN>,
                "name": "text",
              },
            },
            "s": Object {
              "title": "Sample Title",
              "type": Object {
                "card": "seq",
                "domain": <DOMAIN>,
                "name": "text",
              },
            },
          },
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": null,
          "name": "record",
        },
      },
      "name": "select",
      "select": Object {
        "a": Object {
          "context": Object {
            "hasInvalidType": false,
            "type": Object {
              "card": null,
              "domain": <DOMAIN>,
              "name": "text",
            },
          },
          "name": "pipeline",
          "pipeline": Array [
            Object {
              "context": Object {
                "hasInvalidType": false,
                "type": Object {
                  "card": null,
                  "domain": <DOMAIN>,
                  "name": "text",
                },
              },
              "name": "navigate",
              "path": "name",
              "regular": false,
            },
          ],
        },
        "s": Object {
          "context": Object {
            "hasInvalidType": false,
            "type": Object {
              "card": "seq",
              "domain": <DOMAIN>,
              "name": "text",
            },
          },
          "name": "pipeline",
          "pipeline": Array [
            Object {
              "context": Object {
                "hasInvalidType": false,
                "type": Object {
                  "attribute": null,
                  "card": "seq",
                  "domain": <DOMAIN>,
                  "entity": "sample",
                  "name": "record",
                },
              },
              "name": "navigate",
              "path": "sample",
              "regular": false,
            },
            Object {
              "context": Object {
                "hasInvalidType": false,
                "type": Object {
                  "card": "seq",
                  "domain": <DOMAIN>,
                  "name": "text",
                },
              },
              "name": "navigate",
              "path": "title",
              "regular": false,
            },
          ],
        },
      },
    },
  ],
}
`;

exports[`inferType() individual:select(a := name, s := sample:count()) 1`] = `
Object {
  "context": Object {
    "hasInvalidType": false,
    "type": Object {
      "attribute": Object {
        "a": Object {
          "title": "Name",
          "type": Object {
            "card": null,
            "domain": <DOMAIN>,
            "name": "text",
          },
        },
        "s": Object {
          "title": "Sample Count",
          "type": Object {
            "card": null,
            "domain": <DOMAIN>,
            "name": "number",
          },
        },
      },
      "card": "seq",
      "domain": <DOMAIN>,
      "entity": null,
      "name": "record",
    },
  },
  "name": "pipeline",
  "pipeline": Array [
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "navigate",
      "path": "individual",
      "regular": false,
    },
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": Object {
            "a": Object {
              "title": "Name",
              "type": Object {
                "card": null,
                "domain": <DOMAIN>,
                "name": "text",
              },
            },
            "s": Object {
              "title": "Sample Count",
              "type": Object {
                "card": null,
                "domain": <DOMAIN>,
                "name": "number",
              },
            },
          },
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": null,
          "name": "record",
        },
      },
      "name": "select",
      "select": Object {
        "a": Object {
          "context": Object {
            "hasInvalidType": false,
            "type": Object {
              "card": null,
              "domain": <DOMAIN>,
              "name": "text",
            },
          },
          "name": "pipeline",
          "pipeline": Array [
            Object {
              "context": Object {
                "hasInvalidType": false,
                "type": Object {
                  "card": null,
                  "domain": <DOMAIN>,
                  "name": "text",
                },
              },
              "name": "navigate",
              "path": "name",
              "regular": false,
            },
          ],
        },
        "s": Object {
          "context": Object {
            "hasInvalidType": false,
            "type": Object {
              "card": null,
              "domain": <DOMAIN>,
              "name": "number",
            },
          },
          "name": "pipeline",
          "pipeline": Array [
            Object {
              "context": Object {
                "hasInvalidType": false,
                "type": Object {
                  "attribute": null,
                  "card": "seq",
                  "domain": <DOMAIN>,
                  "entity": "sample",
                  "name": "record",
                },
              },
              "name": "navigate",
              "path": "sample",
              "regular": false,
            },
            Object {
              "aggregate": "count",
              "context": Object {
                "hasInvalidType": false,
                "type": Object {
                  "card": null,
                  "domain": <DOMAIN>,
                  "name": "number",
                },
              },
              "name": "aggregate",
              "path": null,
            },
          ],
        },
      },
    },
  ],
}
`;

exports[`inferType() individual:select(id := identity) 1`] = `
Object {
  "context": Object {
    "hasInvalidType": false,
    "type": Object {
      "attribute": Object {
        "id": Object {
          "title": "Identity",
          "type": Object {
            "attribute": null,
            "card": null,
            "domain": <DOMAIN>,
            "entity": "identity",
            "name": "record",
          },
        },
      },
      "card": "seq",
      "domain": <DOMAIN>,
      "entity": null,
      "name": "record",
    },
  },
  "name": "pipeline",
  "pipeline": Array [
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "navigate",
      "path": "individual",
      "regular": false,
    },
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": Object {
            "id": Object {
              "title": "Identity",
              "type": Object {
                "attribute": null,
                "card": null,
                "domain": <DOMAIN>,
                "entity": "identity",
                "name": "record",
              },
            },
          },
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": null,
          "name": "record",
        },
      },
      "name": "select",
      "select": Object {
        "id": Object {
          "context": Object {
            "hasInvalidType": false,
            "type": Object {
              "attribute": null,
              "card": null,
              "domain": <DOMAIN>,
              "entity": "identity",
              "name": "record",
            },
          },
          "name": "pipeline",
          "pipeline": Array [
            Object {
              "context": Object {
                "hasInvalidType": false,
                "type": Object {
                  "attribute": null,
                  "card": null,
                  "domain": <DOMAIN>,
                  "entity": "identity",
                  "name": "record",
                },
              },
              "name": "navigate",
              "path": "identity",
              "regular": false,
            },
          ],
        },
      },
    },
  ],
}
`;

exports[`inferType() individual:select(id := identity.name) 1`] = `
Object {
  "context": Object {
    "hasInvalidType": false,
    "type": Object {
      "attribute": Object {
        "id": Object {
          "title": "Identity Name",
          "type": Object {
            "card": null,
            "domain": <DOMAIN>,
            "name": "text",
          },
        },
      },
      "card": "seq",
      "domain": <DOMAIN>,
      "entity": null,
      "name": "record",
    },
  },
  "name": "pipeline",
  "pipeline": Array [
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "navigate",
      "path": "individual",
      "regular": false,
    },
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": Object {
            "id": Object {
              "title": "Identity Name",
              "type": Object {
                "card": null,
                "domain": <DOMAIN>,
                "name": "text",
              },
            },
          },
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": null,
          "name": "record",
        },
      },
      "name": "select",
      "select": Object {
        "id": Object {
          "context": Object {
            "hasInvalidType": false,
            "type": Object {
              "card": null,
              "domain": <DOMAIN>,
              "name": "text",
            },
          },
          "name": "pipeline",
          "pipeline": Array [
            Object {
              "context": Object {
                "hasInvalidType": false,
                "type": Object {
                  "attribute": null,
                  "card": null,
                  "domain": <DOMAIN>,
                  "entity": "identity",
                  "name": "record",
                },
              },
              "name": "navigate",
              "path": "identity",
              "regular": false,
            },
            Object {
              "context": Object {
                "hasInvalidType": false,
                "type": Object {
                  "card": null,
                  "domain": <DOMAIN>,
                  "name": "text",
                },
              },
              "name": "navigate",
              "path": "name",
              "regular": false,
            },
          ],
        },
      },
    },
  ],
}
`;

exports[`inferType() individual:unknown() : fails on unknown aggregate 1`] = `
Object {
  "context": Object {
    "hasInvalidType": true,
    "type": Object {
      "card": null,
      "domain": <DOMAIN>,
      "name": "invalid",
    },
  },
  "name": "pipeline",
  "pipeline": Array [
    Object {
      "context": Object {
        "hasInvalidType": false,
        "type": Object {
          "attribute": null,
          "card": "seq",
          "domain": <DOMAIN>,
          "entity": "individual",
          "name": "record",
        },
      },
      "name": "navigate",
      "path": "individual",
      "regular": false,
    },
    Object {
      "aggregate": "unknown",
      "context": Object {
        "hasInvalidType": true,
        "type": Object {
          "card": null,
          "domain": <DOMAIN>,
          "name": "invalid",
        },
      },
      "name": "aggregate",
      "path": null,
    },
  ],
}
`;
